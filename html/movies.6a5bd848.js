function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=r.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},r.parcelRequired7c6=i),i.register("kyEFX",(function(t,r){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}})),i.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),i.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),i.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}})),i("kyEFX").register(JSON.parse('{"dizHT":"movies.6a5bd848.js","dDgL5":"istockphoto-924949200-170667a.602a96c2.jpeg","3eHBJ":"movies.c35a091f.css","ks2CE":"movies.caea46fc.js"}'));var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t){var r=a.default(e,t,"get");return u.default(e,r)};var a=l(i("fExtF")),u=l(i("iaRLo"));function l(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,r){c.default(e,t),t.set(e,r)};var f,c=(f=i("7K24o"))&&f.__esModule?f:{default:f};var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(e,t,r){var n=h.default(e,t,"set");return v.default(e,n,r),r};var h=b(i("fExtF")),v=b(i("3LGG3"));function b(e){return e&&e.__esModule?e:{default:e}}var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e};var _=new WeakMap;class m{fetchMovies(){const e=new URLSearchParams({api_key:this.API_KEY,page:t(s)(this,_)});return fetch(`${m.BASE_URL}/${this.endpoint}?${e}`).then((e=>(console.log(e),404===e.status?Promise.reject(new Error("Not found!")):e.json())))}incrementPage(){t(p)(this,_,t(s)(this,_)+1)}constructor(){t(g)(this,"API_KEY","b1cca9f4ff0056a5a4eafc6c5006a5a4"),t(d)(this,_,{writable:!0,value:1}),t(g)(this,"endpoint","movie/upcoming")}}t(g)(m,"BASE_URL","https://api.themoviedb.org/3");var y=m;var w,x={loadMoreBtn:document.querySelector("[data-load-more]"),output:document.querySelector(".results"),error:document.querySelector(".error")};w=new URL("../"+i("kyEFX").resolve("dDgL5"),import.meta.url).toString();var E=function(e){return e.map((({title:e,release_date:r,poster_path:n})=>function({title:e,year:t,poster:r}){return`<div class="movie-card">\n      <img src="${r}" alt="${e}" width="220" height="330">\n      <h5>${e}</h5>\n      <p>${t}</p>\n        </div>`}({title:e,year:new Date(r).getFullYear(),poster:n?`https://image.tmdb.org/t/p/w500${n}`:t(w)}))).join("")},M=i("eWCmQ");const L=new y,j=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Показать ещё",this.refs.spinner.classList.add("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Loading",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1,text:r="Load More"}){this.refs=this.getRefs(e),this.text=r,t&&this.hide()}}({selector:".btn-primary",hidden:!0});function O(e){x.output.innerHTML="",x.loadMoreBtn.classList.add(".is-hidden"),x.error.textContent=e.message}console.log(j),L.fetchMovies().then((e=>{!function(e){const t=E(e);x.output.insertAdjacentHTML("beforeend",t)}(e.results),e.page>=e.total_pages&&setTimeout((()=>{t(M).Notify.info("This is the last pages!")}),500)})).catch(O);
//# sourceMappingURL=movies.6a5bd848.js.map
